<!DOCTYPE html>
<html lang="en">
    <head>
	<link rel="icon" type="image/png" href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;stratis-favicon.png">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>Stratis Storage</title>

      <!-- CSS -->
      <link rel="stylesheet" href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;print.css" media="print">
      <link rel="stylesheet" href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;poole.css">
      <link rel="stylesheet" href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;hyde.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
	  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

      

      
      
    </head>

    <body class="theme-base-10 ">
        
            <div class="sidebar">
                <div class="container ">
					<div>
						<a href="https:&#x2F;&#x2F;stratis-storage.github.io">
							<img src="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;imgs&#x2F;stratis_sidebar.png" />
						</a>
					</div>
                    <div class="sidebar-about">
                        
                            <!-- <a href="https:&#x2F;&#x2F;stratis-storage.github.io"><h1>Stratis Storage</h1></a> -->
                            
                            <p class="about lead">Easy to use local storage management for Linux.</p>
                            
                        
                    </div>

                    User Links:</br>
                    <ul class="sidebar-nav">
                        
                        
                           <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;lab.redhat.com&#x2F;stratis">Tutorial</a></li>
                        
                           <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;faq">FAQ</a></li>
                        
                           <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;howto">How-To</a></li>
                        
                        
                    </ul>
                    Developer Links:</br>
                    <ul class="sidebar-nav">
                        
                        
                        <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;StratisSoftwareDesign.pdf">Software Design</a></li>
                        
                        <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;DBusAPIReference.pdf">DBUS API Reference</a></li>
                        
                        <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;StratisStyleGuidelines.pdf">Programming Style Guidelines</a></li>
                        
                        
                    </ul>
                    Contact Links:</br>
                    <ul class="sidebar-nav">
                        
                        
                        <li class="sidebar-nav-item" style="display: inline-block">
						  <a href="https:&#x2F;&#x2F;github.com&#x2F;stratis-storage">
						    
							  <i class="fab fa-github"></i>
							
					      </a>
						</li>
                        
                        <li class="sidebar-nav-item" style="display: inline-block">
						  <a href="https:&#x2F;&#x2F;twitter.com&#x2F;stratisstorage">
						    
							  <i class="fab fa-twitter"></i>
							
					      </a>
						</li>
                        
                        
                    </ul>
                </div>
            </div>
        

        <div class="content container">
            
                <div class="posts">
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;katacoda-tutorial&#x2F;">
								Katacoda Tutorial
							  </a>
							</h1>
							<div class="post__summary">
								<p>We would like to thank Red Hat for hosting a Katacoda tutorial for Stratis at
<a href="https://lab.redhat.com/stratis">lab.redhat.com/stratis</a>. We hope that the tutorial will provide an easy and
pleasant introduction to Stratis for new users.</p>
<p>Please note that the tutorial does not include the latest work on encryption,
as it makes use of a prior version of Stratis, 2.0.0.</p>
<p>We hope to post links to additional Katacoda tutorials covering more advanced
or recent Stratis functionality as they become available.</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;katacoda-tutorial&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;stratis-release-notes-2-1-0&#x2F;">
								Stratis 2.1.0 Release Notes
							  </a>
							</h1>
							<div class="post__summary">
								<p>Stratis 2.1.0 introduces support for encryption.</p>
<p>It supports per-pool encryption of the devices that form a pool's data
tier. A pool may be encrypted, or its constituent encrypted devices may
be activated, by means of a key stored in the kernel keyring.</p>
<h2 id="stratisd-2-1-0">stratisd 2.1.0</h2>
<p>This release implements encryption support and adds several new D-Bus
interfaces to administer or monitor that support.</p>
<p>It implements encryption support in the following way:</p>
<ul>
<li>A single instance of stratisd can support both encrypted and unencrypted
pools.</li>
<li>The choice to encrypt a pool must be made at the time a pool is created.</li>
<li>At present, the use of a cache and of encryption are mutually exclusive;
if the pool is created with encryption enabled, then it is not possible
to create a cache.</li>
<li>Each pool may be encrypted by means of a key in the kernel keyring; each
encrypted pool may make use of a different key, but all devices in a pool
are encrypted with a single key.</li>
<li>Any additional devices that are added to an encrypted pool's data tier
will be encrypted using the key that was specified when the pool was
initialized.</li>
</ul>
<p>stratisd 2.1.0 supplies several new D-Bus interfaces:</p>
<ul>
<li><code>org.storage.stratis2.manager.r1</code>: This interface supplies an
extended <code>CreatePool</code> method, to support an optional argument for
encryption. In addition, it supplies a number of method for key
management.</li>
<li><code>org.storage.stratis2.pool.r1</code>: This interface supports explicit
initialization of a cache tier. Previously, a cache was initialized as
a side-effect of the addition of the first device to the cache tier.
It also supports the new <code>Encrypted</code> property.</li>
<li><code>org.storage.stratis2.FetchProperties.r1</code>: This interface supports an
additional <code>HasCache</code> property.</li>
<li><code>org.storage.stratis2.Report.r1</code>: This interface supports a set of
ad-hoc reports about Stratis. The interface is unstable; the names by
which the reports can be accesed are not guaranteed to remain stable,
and the format of any report is only guaranteed to be valid JSON.</li>
</ul>
<p>Please consult the D-Bus API Reference for the precise D-Bus specification.</p>
<p>The following are significant implementation details:</p>
<ul>
<li>Each block device in an encrypted pool's data tier is encrypted with a
distinct, randomly chosen MEK (Media Encryption Key) on initialization.</li>
<li>All devices belonging to a single encrypted pool share a single passphrase,
supplied via the kernel keyring.</li>
<li>The release requires cryptsetup version 2.3.</li>
</ul>
<p>We would like to thank our external contributor GuillaumeGomez for further
work on metadata refactoring (<a href="https://github.com/stratis-storage/stratisd/issues/1573">stratisd issue 1573</a>).</p>
<h2 id="stratis-cli-2-1-0">stratis-cli 2.1.0</h2>
<p>This release requires stratisd 2.1.0. The user will observe the following
changes:</p>
<ul>
<li>The <code>pool create</code> command has been extended to allow encryption.</li>
<li>There is a new <code>pool init_cache</code> command, for initializing a cache.</li>
<li>There is a new subcommand, <code>key</code>, for key management tasks.</li>
<li>There is a new subcommand, <code>report</code>, which allows the display of certain
reports generated by stratisd.</li>
<li>The output of <code>pool list</code> now includes a <code>Properties</code> column; each
entry in the column is a string encoding the following properties of the
pool:
<ul>
<li>whether or not it has a cache</li>
<li>whether or not it is encrypted</li>
</ul>
</li>
</ul>
<p>All commands now verify that stratis is communicating with a compatible
version of stratisd and will fail with an appropriate error if stratisd is
found to have an incompatible version.</p>
<h2 id="usage">Usage</h2>
<p>To create an encrypted pool, a user must first ensure that a key is placed
in the kernel keyring. We strongly encourage using the commands available
via the stratis <code>key</code> subcommand for this task. This key, which is secret,
has a corresponding key description, which is public.</p>
<p>An encrypted pool is then created by specifying the key description
when using the <code>pool create</code> command.</p>
<p>It is necessary that the correct key and corresponding key description be set
in the kernel keyring in order to set up a previously encrypted pool. Setting
up a previously encrypted pool requires an explicit <code>pool unlock</code> command from
the user. This command will attempt to unlock the devices belonging to any
previously encrypted pool; it can only unlock all devices if a key for every
encrypted pool is in the keyring. Once the devices belonging to a previously
encrypted pool have been unlocked, the pool will be set up, and can be used in
exactly the same manner as an unencrypted pool.</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;stratis-release-notes-2-1-0&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2020-02-daemon&#x2F;">
								stratisd 2.0.1 Release Notes
							  </a>
							</h1>
							<div class="post__summary">
								<p>February 10, 2020</p>
<p>stratisd 2.0.1 contains a number of internal improvements as well as
enhanced logging.</p>
<p>A code defect which made it possible to leave the thinpool suspended on an
error was fixed (<a href="https://github.com/stratis-storage/stratisd/issues/1730">stratisd issue 1730</a>).</p>
<p>The device discovery implementation was improved; computational complexity
was reduced and additional logging on unusual events was added.</p>
<p>The D-Bus layer was restructured to more cleanly suppport multiple versioned
D-Bus interfaces.</p>
<p>All macros were rewritten to use fully qualified names to improve code
stability.</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2020-02-daemon&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2020-cli&#x2F;">
								stratis-cli 2.0.1 Release Notes
							  </a>
							</h1>
							<div class="post__summary">
								<p>Sunday January 21, 2020</p>
<p>stratis-cli 2.0.1 contains a number of internal improvements as well as
some improvements to certain error messages.</p>
<p>We expect that most current users will notice very little if any change;
we hope that new users will benefit from error messages that they can
more directly relate to the commands that they have typed. In order to
achieve this, the internal exception hierarchy was refined, and some new
exception classes were added.</p>
<p>The man pages have been updated to include a precise specification of every
field displayed by any of the <code>list</code> subcommands.</p>
<p>Contributors to the source will observe that our CI now requires 100% code
coverage.</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2020-cli&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2020-01-13&#x2F;">
								Cryptsetup Rust bindings release
							  </a>
							</h1>
							<div class="post__summary">
								<p>Monday January 13, 2020</p>
<p>One major focus in the Stratis project recently has been adding an encryption layer
for data in Stratis pools. Cryptsetup provides a library backend for programmatically
setting up device encryption, so we decided to write Rust bindings to access the
existing Cryptsetup functionality in Rust.</p>
<p>While designing the bindings, we took every opportunity to make use of Rust's
type system, leveraging features like reference lifetimes and type parameters
to ensure that as much of our public API as possible can be validated by the
compiler.</p>
<p>Though these bindings were designed with Stratis in mind, it is intended
to be general-purpose and so we encourage others to try it out. The license
is MPLv2, but it becomes effectively GPL when linked with libcryptsetup.
As a result, any project using our bindings will also need to be GPL or
GPL-compatible.</p>
<p>If you're interested in seeing more, you can find <a href="https://github.com/stratis-storage/libcryptsetup-rs">the repository here</a>.</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2020-01-13&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2019-11-06&#x2F;">
								Stratis 2.0.0 Release Notes
							  </a>
							</h1>
							<div class="post__summary">
								<p>Wednesday November 6, 2019</p>
<p>Stratis 2.0 is a significant update for both the daemon and the CLI. The
changes to the daemon are covered first, followed by the changes to the
CLI.</p>
<h2 id="stratisd-2-0-0">stratisd 2.0.0</h2>
<p>This release makes the D-Bus API more robust, reliable, predictable, and
extensible. There are several significant changes:</p>
<ul>
<li>
<p>The set of D-Bus properties has been reduced to a core set of fundamental
and stable properties. Other filesystem, pool, or block devices properties are
now obtainable via methods in the <code>FetchProperties</code> interface. This change
increases the robustness of the D-Bus interface to failures occurring in any
particular pool, filesystem, or block device, and decreases the computational
cost of most operations requested by the Stratis CLI. Several properties,
formerly returned as D-Bus properties, are now unavailable by means of the
D-Bus. In every case, the reason for removing the property was that it did not
represent a well-defined value. See <a href="https://github.com/stratis-storage/project/issues/52">project issue 52</a> for further details.</p>
</li>
<li>
<p>All D-Bus method calls are idempotent. This should make writing scripts
using the D-Bus API much simpler and make reasoning about the behavior
of the engine more straightforward. Henceforth, we will treat as a bug any
non-idempotent behavior in the D-Bus API. See <a href="https://github.com/stratis-storage/project/issues/51">project issue 51</a> for further
details.</p>
</li>
<li>
<p>All D-Bus size values are now returned in bytes. Again, this should make
writing scripts against the D-Bus more straightforward, since it will be
unnecessary for the script writer to change their interpretation of the number
returned on the D-Bus depending on the value that it represents. See
<a href="https://github.com/stratis-storage/stratisd/issues/1243">stratisd issue 1243</a> for further details.</p>
</li>
</ul>
<p>Future enhancements to the D-Bus API will be implemented by means of
additional versioned interfaces.</p>
<p>Please consult the D-Bus API Reference for the precise D-Bus specification.</p>
<h2 id="stratis-cli-2-0-0">stratis-cli 2.0.0</h2>
<p>This release requires stratisd 2.0.0. The user will observe the following
significant improvements:</p>
<ul>
<li>
<p>The CLI is significantly more robust. Previously, there was a category of
error conditions in pools, filesystems, and block devices that would make the
CLI virtually unusable; this problem has now been entirely resolved. See
<a href="https://github.com/stratis-storage/project/issues/52">project issue 52</a> for further details.</p>
</li>
<li>
<p>The CLI now reports errors consistently in conditions where a human user
would generally expect an error to be reported. Previously, many commands in
the CLI were idempotent, to facilitate scripting. Now there is a clear
distinction between the CLI behavior and the stratisd D-Bus API behavior: the
CLI behavior is designed strictly according to the expectations of a human
user, the stratisd D-Bus API is the programmable interface. See
<a href="https://github.com/stratis-storage/project/issues/51">project issue 51</a> for further details.</p>
</li>
</ul>
<p>As always, anyone wishing to implement a program that uses Stratis for
storage management is strongly advised to make use of the stratisd D-Bus API
rather than the CLI.</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2019-11-06&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;b&#x2F;">
								stratis-cli 1.1.0 Release Notes
							  </a>
							</h1>
							<div class="post__summary">
								<p>Wednesday October 2, 2019</p>
<p>With this release stratis now recognizes an environment variable,
<code>STRATIS_DBUS_TIMEOUT</code>. This environment variable controls the timeout for
any individual D-Bus call that stratis makes. You may want to set it to a
higher value than the default, which is 120 seconds, if you are running
tests or otherwise scripting via stratis, and wish to avoid erroneous errors
resulting from slow operations in your testing environment. See
<a href="https://github.com/stratis-storage/stratis-cli/issues/252">stratis-cli issue 252</a> for further details.</p>
<p>This release also introduces simplified and more complete error-reporting.
For stratis, it constitutes an error if any command issued results in a
Python stack trace. If you experience any such incident, please
report it in a GitHub issue, including the full stack trace, and
circumstances that led up to the incident.</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;b&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;a&#x2F;">
								stratisd 1.0.6 Release Notes
							  </a>
							</h1>
							<div class="post__summary">
								<p>Wednesday October 2, 2019</p>
<p>This release includes one significant bug fix and a substantial refactoring.</p>
<p>The bug was caused by an inconsistency in the metadata handling which led to
a failure to properly update the Stratis metadata if stratisd was restarted
in an environment where the system clock indicated a time earlier than when
it had previously been running. See <a href="https://github.com/stratis-storage/stratisd/issues/1509">stratisd issue 1509</a> for further
details.</p>
<p>This release also includes significant refactoring of the stratisd metadata
handling for clarity and modularity and to use types to enforce distinctions
among the sizes of different metadata regions (<a href="https://github.com/stratis-storage/stratisd/issues/1573">stratisd issue 1573</a>).</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;a&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2018-09-28&#x2F;">
								Stratis 1.0 Release Notes
							  </a>
							</h1>
							<div class="post__summary">
								<p>Friday September 28, 2018</p>
<h1 id="new-features">New Features</h1>
<h2 id="initial-stable-stratis-release">Initial Stable Stratis Release</h2>
<p>Stratis is a Linux local storage management tool that aims to enable easy use of advanced storage features such as thin provisioning, snapshots, and pool-based management and monitoring.</p>
<p>After two years of development, Stratis 1.0 has stabilized its on-disk metadata format and command-line interface, and is ready for more widespread testing and evaluation by potential users. Stratis is implemented as a daemon – <code>stratisd</code> – as well as a command-line configuration tool called stratis, and works with Linux kernel versions 4.14 and up.</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2018-09-28&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                      <div class="post">
						<article class="post">
							<h1 class="post-title">
							  <a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2018-03-08&#x2F;">
								Stratis 0.5 Release Notes
							  </a>
							</h1>
							<div class="post__summary">
								<p>March 8, 2018</p>
<p>This release is suitable for developers and early testers. It should not be
used with valuable data, and pools created with this release will not be
supported in Stratis 1.0, due to upcoming on-disk format changes.</p>

							</div>
							<div class="read-more">
								<a href="https:&#x2F;&#x2F;stratis-storage.github.io&#x2F;2018-03-08&#x2F;">Read more...</a>
							</div>
						</article>
						
                      </div>
                    
                </div>
            
        </div>

    </body>

</html>
